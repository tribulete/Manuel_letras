<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Listado de canciones</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Lista de canciones</h1>
  <ul id="lista-canciones"></ul>

  <script>
    async function cargarCanciones() {
      const response = await fetch('config.csv');
      const texto = await response.text();
      const lineas = texto.trim().split('\\n').filter(l => l);
      const datos = lineas.map(l => l.split(';'));

      datos.sort((a, b) => parseInt(a[0]) - parseInt(b[0]));

      const lista = document.getElementById("lista-canciones");

      for (const [orden, duracion, fichero] of datos) {
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = `cancion.html?fichero=${fichero}&duracion=${duracion}`;
        a.textContent = fichero; // Usa el nombre del fichero como t√≠tulo
        li.appendChild(a);
        lista.appendChild(li);
      }

    }

    cargarCanciones();
  </script>
</body>
</html>
